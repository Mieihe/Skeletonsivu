<!DOCTYPE html>
<html lang="fi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RPS 2.0</title>

  <!-- Basic Page Needs -->
  <meta name="description" content="Kivi-sakset-paperi peli">
  <meta name="author" content="Toomas SelkÃ¤nen">

  <!-- FONT -->
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

  <!-- CSS -->
  <link rel="stylesheet" href="/css/normalize.css">
  <link rel="stylesheet" href="/css/skeleton.css">
  <link rel="stylesheet" href="/css/navbar.css">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="/images/favicon.png">
  <style>

    .center {
      text-align: center;
    }
    .rivi {
      padding-top: 5vw;
    }
    .bottom-margin {
      margin-bottom: 100px;
    }
    #butn:hover {
      fill: #00bcd4;
    }
    .playing {
      -webkit-animation-name: cssAnimation;
      -webkit-animation-duration:0.5s;
      -webkit-animation-iteration-count: 3;
      -webkit-animation-timing-function: ease;
      -webkit-animation-fill-mode: forwards;
    }
    @-webkit-keyframes cssAnimation {
      from {
        -webkit-transform: scale(1);
      }
      to {
        -webkit-transform: scale(1.2);
      }
    }
    #cpuNum, #playerNum {
      font-size: 8rem;
      vertical-align: middle;
    }
    @media screen and (max-width: 530px) {
      h1 {
        margin-bottom: 0px;
      }
    }


  </style>
</head>
<body>
  <!-- Navigation -->
  <div id="navbar" class="nav">
    <div class="navContainer">
      <img class="logo" src="/images/favicon.png">
      <ul id="navUl">
        <li><a href="/index.html">Etusivu</a></li>
        <li><a href="/tutorials.html">Tutorials</a></li>
        <li><a href="/about.html">About</a></li>
        <li><a href="/test.html">Test</a></li>
        <li><a href="/contact.html">Contact</a></li>
      </ul>
    </div>
  </div>
  <a id="menuBrgr" href="#"><img src="/images/menuBrgr.svg" width="32px"></a>

  
  <!-- Primary Page Layout -->
  <div id="container" class="container" style="margin-top: 75px;">
    <div class="row rivi">
      <div class="one-fifth column center">
        <img id="cpuImage" src="/images/rock.png" width="75px">
        <h3>CPU</h3>
      </div>
      <div class="one-fifth column center">
        <h1 id="cpuNum"></h1>
        <br>
      </div>
      <div class="one-fifth column center">
        <br>
        <h1>VS.</h1>
        <br>
      </div>
      <div class="one-fifth column center">
        <h1 id="playerNum"></h1>
        <br>
      </div>
      <div class="one-fifth column center">
        <img id="playerImage" src="/images/rock.png" width="75px">
        <h3>Player</h3>
      </div>
    </div>
    <div class="row rivi center">
      <div id="endGame" class="column bottom-margin">
        <h1 id="gameMsg">&nbsp;</h1>
        <h4>Choose your destiny:</h4>
        <a id="rockIcon" class="playIcon" href="#"><svg id="butn" class="rock" width="60" height="60" viewBox="0 0 253.859 253.859">
          <g id="g4" transform="matrix(0.80508475,0,0,0.80508475,24.732373,49.48099)">
            <path
            d="m 190.972,11 c -6.33,0 -12.181,2.086 -16.904,5.606 C 169.595,6.82 159.721,0 148.277,0 139.769,0 132.13,3.773 126.929,9.728 121.729,3.773 114.09,0 105.582,0 94.138,0 84.264,6.82 79.792,16.606 75.068,13.086 69.217,11 62.888,11 47.257,11 34.54,23.717 34.54,39.348 v 31.634 65.796 c 0,28.926 13.367,54.786 34.243,71.739 v 38.342 c 0,3.866 3.134,7 7,7 h 102.293 c 3.866,0 7,-3.134 7,-7 v -38.342 c 20.876,-16.953 34.243,-42.813 34.243,-71.739 V 39.348 C 219.319,23.717 206.603,11 190.972,11 Z m 0,14 c 7.911,0 14.348,6.437 14.348,14.348 v 63.715 L 176.625,92.842 V 80.865 39.348 C 176.624,31.437 183.061,25 190.972,25 Z M 148.277,14 c 7.911,0 14.347,6.437 14.347,14.348 v 11 41.518 c 0,2.282 -0.531,4.464 -1.533,6.443 l -23.487,-8.366 c -1.217,-0.433 -2.444,-0.77 -3.675,-1.029 V 28.348 C 133.93,20.437 140.366,14 148.277,14 Z M 91.235,28.348 C 91.235,20.437 97.671,14 105.582,14 c 7.911,0 14.348,6.437 14.348,14.348 v 50.169 c -7.877,2.381 -14.631,8.14 -17.994,16.208 -6.147,-1.62 -10.7,-7.211 -10.7,-13.86 v -9.883 -31.634 -11 z m -42.695,11 C 48.54,31.437 54.977,25 62.888,25 c 7.911,0 14.348,6.437 14.348,14.348 v 31.634 c 0,7.911 -6.437,14.347 -14.348,14.347 -7.911,0 -14.348,-6.436 -14.348,-14.347 z M 171.076,239.859 H 82.783 v -21.94 c 13.124,7.169 28.168,11.248 44.146,11.248 15.978,0 31.022,-4.079 44.146,-11.248 v 21.94 z M 126.93,215.167 c -43.225,0 -78.39,-35.165 -78.39,-78.389 V 95.415 c 4.212,2.483 9.115,3.914 14.348,3.914 6.505,0 12.501,-2.208 17.29,-5.906 3.827,7.71 11.056,13.445 19.715,15.216 0.335,3.138 1.198,6.23 2.591,9.165 3.247,6.84 8.964,12.007 16.097,14.547 l 41.947,14.941 c 0.776,0.276 1.568,0.408 2.349,0.408 2.877,0 5.573,-1.788 6.594,-4.653 1.298,-3.642 -0.604,-7.646 -4.245,-8.943 l -41.947,-14.941 c -7.452,-2.654 -11.355,-10.877 -8.701,-18.33 2.654,-7.453 10.878,-11.354 18.33,-8.702 l 72.412,25.793 v 18.854 c -0.001,43.224 -35.166,78.389 -78.39,78.389 z"
            id="path2"
            inkscape:connector-curvature="0"/>
          </g>
        </svg></a>
        <a id="paperIcon" class="playIcon" href="#"><svg id="butn" class="paper" width="60" height="60" viewBox="0 0 317.235 317.235">
          <g id="g4" transform="translate(22)">
            <path
            d="m 277.227,141.571 c -0.942,-7.235 -4.646,-13.67 -10.428,-18.12 -5.782,-4.45 -12.952,-6.38 -20.186,-5.439 -7.235,0.942 -13.67,4.646 -18.125,10.435 l -12.192,15.884 V 44.556 c 0,-15.062 -12.253,-27.315 -27.315,-27.315 -5.127,0 -9.927,1.422 -14.03,3.889 C 172.139,9.039 161.284,0 148.351,0 c -12.934,0 -23.789,9.039 -26.6,21.129 -4.104,-2.467 -8.903,-3.889 -14.03,-3.889 -15.062,0 -27.315,12.253 -27.315,27.315 v 16.829 c -3.943,-2.211 -8.483,-3.478 -13.315,-3.478 -15.062,0 -27.315,12.253 -27.315,27.315 v 118.925 c 0,26.744 11.959,50.745 30.807,66.944 0,0.014 -0.002,0.028 -0.002,0.042 v 39.103 c 0,3.866 3.134,7 7,7 h 103 c 3.866,0 7,-3.134 7,-7 v -39.103 c 0,-0.571 -0.076,-1.123 -0.205,-1.654 2.86,-2.6 5.569,-5.398 8.099,-8.392 0.07,-0.083 0.138,-0.168 0.205,-0.254 l 76.108,-99.076 c 4.449,-5.781 6.381,-12.95 5.439,-20.185 z M 173.581,303.235 h -89 v -22.291 c 12.836,7.292 27.667,11.463 43.455,11.463 16.262,0 31.955,-4.453 45.545,-12.646 z m 87.108,-150.011 -76.011,98.949 c -14.153,16.675 -34.789,26.235 -56.643,26.235 -40.947,0 -74.26,-33.313 -74.26,-74.26 V 85.222 c 0,-7.342 5.973,-13.315 13.315,-13.315 7.342,0 13.315,5.973 13.315,13.315 v 60.981 c 0,3.866 3.134,7 7,7 3.866,0 7,-3.134 7,-7 V 44.556 c 0,-7.342 5.973,-13.315 13.315,-13.315 7.342,0 13.315,5.973 13.315,13.315 v 101.648 c 0,3.866 3.134,7 7,7 3.866,0 7,-3.134 7,-7 V 27.315 c 0,-7.342 5.973,-13.315 13.315,-13.315 7.342,0 13.315,5.973 13.315,13.315 v 118.888 c 0,3.866 3.134,7 7,7 3.866,0 7,-3.134 7,-7 V 44.556 c 0,-7.342 5.973,-13.315 13.315,-13.315 7.342,0 13.315,5.973 13.315,13.315 v 120.39 c 0,2.999 1.91,5.664 4.75,6.628 2.837,0.963 5.977,0.013 7.803,-2.366 l 24.74,-32.23 c 2.169,-2.818 5.306,-4.624 8.833,-5.083 3.526,-0.462 7.021,0.482 9.84,2.651 2.818,2.169 4.624,5.306 5.083,8.833 0.459,3.527 -0.482,7.021 -2.655,9.845 z"
            id="path2"
            inkscape:connector-curvature="0" />
          </g>
        </svg></a>
        <a id="scissorsIcon" class="playIcon" href="#"><svg id="butn" class="scissors" width="60" height="60" viewBox="0 0 331.686 331.686">
          <path d="M236.822,0c-15.486,0-28.085,12.599-28.085,28.084v13.351l-2.359-14.067c-0.02-0.121-0.043-0.241-0.07-0.36
          C202.95,11.891,187.916,2.323,172.802,5.68c-15.026,3.338-24.57,18.209-21.387,33.234l8.511,58.484
          c-5.095-7.161-13.454-11.846-22.893-11.846c-11.206,0-20.896,6.599-25.399,16.113c-4.683-3.498-10.49-5.571-16.771-5.571
          c-15.485,0-28.084,12.599-28.084,28.084v0.817v28.082v52.543c0,31.184,14.488,59.043,37.081,77.216
          c0,0.033-0.005,0.065-0.005,0.098v41.75c0,3.866,3.134,7,7,7H220.83c3.866,0,7-3.134,7-7v-41.75c0-0.033-0.004-0.065-0.005-0.098
          c22.593-18.172,37.081-46.032,37.081-77.216V28.084C264.906,12.599,252.308,0,236.822,0z M175.837,19.347
          c7.526-1.674,15.013,3.046,16.768,10.536l16.148,96.293c0.241,3.647,3.276,6.531,6.984,6.531c3.866,0,7-3.134,7-7V28.084
          c0-7.766,6.318-14.084,14.085-14.084c7.766,0,14.084,6.318,14.084,14.084v141.961l-69.884-24.892L165.234,36.661
          c-0.024-0.171-0.056-0.341-0.093-0.51C163.458,28.569,168.256,21.031,175.837,19.347z M166.424,142.054
          c-0.437,0.01-0.872,0.028-1.306,0.057v-9.032L166.424,142.054z M122.948,113.638c0-7.767,6.318-14.085,14.085-14.085
          s14.085,6.318,14.085,14.085v33.034c-5.512,3.462-9.949,8.72-12.298,15.314c-0.607,1.706-1.041,3.431-1.329,5.158
          c-0.153,0.005-0.305,0.019-0.458,0.019c-7.767,0-14.085-6.318-14.085-14.084V124.18V113.638z M80.779,124.18
          c0-7.766,6.318-14.084,14.084-14.084c7.767,0,14.085,6.318,14.085,14.084v28.899c0,7.766-6.318,14.084-14.085,14.084
          c-7.766,0-14.084-6.318-14.084-14.084v-28.082V124.18z M213.83,317.686h-95.975V292.26c14.226,7.911,30.588,12.426,47.987,12.426
          s33.762-4.515,47.987-12.426V317.686z M165.843,290.685c-46.904,0-85.063-38.159-85.063-85.063v-28.261
          c4.144,2.413,8.953,3.802,14.084,3.802c8.394,0,15.934-3.706,21.085-9.563c5.151,5.856,12.691,9.563,21.085,9.563
          c0.489,0,0.974-0.037,1.459-0.062c2.745,8.645,9.349,15.96,18.533,19.231l45.226,16.109c0.776,0.276,1.569,0.408,2.349,0.408
          c2.877,0,5.573-1.788,6.594-4.653c1.298-3.642-0.604-7.646-4.245-8.943l-45.226-16.109c-8.319-2.963-12.677-12.142-9.714-20.461
          c2.965-8.319,12.142-12.678,20.462-9.714l78.436,27.938v20.715C250.906,252.526,212.747,290.685,165.843,290.685z"/></path>
        </svg></a>





    </div>
  </div>


  <script>
    function computerPlay() {
      let play = Math.floor(Math.random() * 3);
      if (play == 0) {
        return "Rock";
      } else if (play == 1) {
        return "Paper";
      } else {
        return "Scissors";
      }
    }

    let playerScore = 0;
    let computerScore = 0;

    document.getElementById("cpuNum").innerHTML = computerScore;
    document.getElementById("playerNum").innerHTML = playerScore;


    function playRound(playerSelection, computerSelection) {

      if ( (playerSelection.toLowerCase() == "rock") && (computerSelection == "Scissors") ) {
        ++playerScore;
        document.getElementById("gameMsg").innerHTML = "You win!";
        document.getElementById("playerNum").innerHTML = playerScore;
        return "You win! " + playerSelection + " beats " + computerSelection + ". The score is: Player - " + playerScore + ", CPU - " + computerScore;

      } else if ( (playerSelection.toLowerCase() == "rock") && (computerSelection == "Rock") ) {
        document.getElementById("gameMsg").innerHTML = "Tie!";
        return "Tie!" + ". The score is: Player - " + playerScore + ", CPU - " + computerScore;

      } else if ( (playerSelection.toLowerCase() == "rock") && (computerSelection == "Paper") ) {
        ++computerScore;
        document.getElementById("gameMsg").innerHTML = "You lose!";
        document.getElementById("cpuNum").innerHTML = computerScore;
        return "You lose! " + computerSelection + " beats " + playerSelection + ". The score is: Player - " + playerScore + ", CPU - " + computerScore;

      } else if ( (playerSelection.toLowerCase() == "scissors") && (computerSelection == "Scissors") ) {
        document.getElementById("gameMsg").innerHTML = "Tie!";
        return "Tie!" + " The score is: Player - " + playerScore + ", CPU - " + computerScore;

      } else if ( (playerSelection.toLowerCase() == "scissors") && (computerSelection == "Rock") ) {
        ++computerScore;
        document.getElementById("gameMsg").innerHTML = "You lose!";
        document.getElementById("cpuNum").innerHTML = computerScore;
        return "You lose! " + computerSelection + " beats " + playerSelection + ". The score is: Player - " + playerScore + ", CPU - " + computerScore;

      } else if ( (playerSelection.toLowerCase() == "scissors") && (computerSelection == "Paper") ) {
        ++playerScore;
        document.getElementById("gameMsg").innerHTML = "You win!";
        document.getElementById("playerNum").innerHTML = playerScore;
        return "You win! " + playerSelection + " beats " + computerSelection + ". The score is: Player - " + playerScore + ", CPU - " + computerScore;

      } else if ( (playerSelection.toLowerCase() == "paper") && (computerSelection == "Scissors") ) {
        ++computerScore;
        document.getElementById("gameMsg").innerHTML = "You lose!";
        document.getElementById("cpuNum").innerHTML = computerScore;
        return "You lose! " + computerSelection + " beats " + playerSelection + ". The score is: Player - " + playerScore + ", CPU - " + computerScore;

      } else if ( (playerSelection.toLowerCase() == "paper") && (computerSelection == "Rock") ) {
        ++playerScore;
        document.getElementById("gameMsg").innerHTML = "You win!";
        document.getElementById("playerNum").innerHTML = playerScore;
        return "You win! " + playerSelection + " beats " + computerSelection + ". The score is: Player - " + playerScore + ", CPU - " + computerScore;

      } else if ( (playerSelection.toLowerCase() == "paper") && (computerSelection == "Paper") ) {
        document.getElementById("gameMsg").innerHTML = "Tie!";
        return "Tie!" + ". The score is: Player - " + playerScore + ", CPU - " + computerScore;

      } else {
        return "moi";
      }
    }

     function game() {
      console.log(playRound(playerSelection, computerSelection));
    }

    const rockBtn = document.querySelector("#rockIcon");
    const paperBtn = document.querySelector("#paperIcon");
    const scissorsBtn = document.querySelector("#scissorsIcon");
    const playerImage = document.getElementById("playerImage"); 
    const cpuImage = document.getElementById("cpuImage");
    let computerSelection;
    let playerSelection;
    function ani(){
      playerImage.src = "/images/rock.png";
      cpuImage.src = "/images/rock.png";
      playerImage.classList.add('playing');
      cpuImage.classList.add('playing');
    }

    const svgs = document.querySelectorAll("svg");
    function logText(e) {
        playerSelection = this.classList.value;
        console.log(playerSelection);
    }
    svgs.forEach(svg => svg.addEventListener("click", logText));

    svgs.forEach(svg => svg.addEventListener("click", (e) => {
      e.preventDefault();
      computerSelection = computerPlay();
      ani()
      setTimeout(function() {
        playerImage.classList.remove('playing');
        cpuImage.classList.remove('playing');
        game();
        playerImage.src = "/images/"+playerSelection.toLowerCase()+".png";
        cpuImage.src = "/images/"+computerSelection.toLowerCase()+".png";
        if (computerScore == 5) {
          document.getElementById('endGame').innerHTML = '';
          let h1 = document.createElement('h1');
          h1.innerHTML = "Computer wins: "+computerScore+" - "+playerScore+".";
          document.getElementById('endGame').appendChild(h1);
        } else if (playerScore == 5) {
          document.getElementById('endGame').innerHTML = '';
          let h1 = document.createElement('h1');
          h1.innerHTML = "Player wins: "+computerScore+" - "+playerScore+".";
          document.getElementById('endGame').appendChild(h1);
        };
      }, 1500);
    }));


  </script>
  <!-- End of document -->
  <script src="/javascript/navbar.js"></script> 
</body>
</html>